<div class="register-card" [mdl-shadow]="16">
  <div class="card-title" [class.no-pad]="loading">
    <mdl-progress [indeterminate]="true" *ngIf="loading"></mdl-progress>
    <img class="vista-logo" src="/assets/img/coeliac-logo.png" alt="Coeliac logo" />
  </div>
  <div class="card-body" (keydown.enter)="register()">
    <form [formGroup]="registerForm">
      <mdl-textfield
          type="email"
          label="Email"
          floating-label
          [class.is-invalid]="email.touched && email.invalid"
          error-msg="Please enter a valid email"
          disableNativeValidityChecking
          formControlName="email">
      </mdl-textfield>
      <mdl-textfield
          type="password"
          label="Password"
          floating-label
          [class.is-invalid]="password.touched && password.invalid"
          disableNativeValidityChecking
          error-msg="Password needs to be at least 6 characters"
          formControlName="password">
      </mdl-textfield>
      <mdl-textfield
          type="text"
          label="Name"
          floating-label
          [class.is-invalid]="name.touched && name.invalid"
          disableNativeValidityChecking
          error-msg="Name is required"
          formControlName="name">
      </mdl-textfield>
      <mdl-textfield
          type="text"
          label="Business Name"
          floating-label
          [class.is-invalid]="businessName.touched && businessName.invalid"
          disableNativeValidityChecking
          error-msg="Business Name is required"
          formControlName="businessName">
      </mdl-textfield>
    </form>
    <p class="error-message">
      {{errorMessage}}
    </p>
    <button mdl-button mdl-ripple (click)="register()">
      Create an account
    </button>

    <div class="card-additional">
      <p>Already have an account?</p>
      <button mdl-button mdl-ripple [routerLink]="['../login']">
        Login
      </button>
    </div>
  </div>
</div>
